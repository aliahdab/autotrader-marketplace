# Test-specific properties
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Disable security for tests
spring.security.user.name=test
spring.security.user.password=test

# Hibernate configuration
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true

# Disable Spring Data JPA auto-repositories for tests if needed
# spring.data.jpa.repositories.enabled=false

# File Upload Configuration for Tests
app.upload.allowed-types=image/jpeg,image/png,image/gif,image/webp
app.upload.max-file-size=5242880
app.upload.image-base-path=test-listings

# Ensure JWT secret matches main config for test authentication
autotrader.app.jwtSecret=autotraderSecretKey123456789012345678901234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ
